
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>NexFlow | Enterprise BPM Suite</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        /* --- 1. PALETTE TOKENS --- */
        --brand-slate: #1e293b;
        --brand-dark: #0f172a; /* slate-950 */
        --brand-blue: #0284c7;
        --brand-blue-hover: #0369a1;
        
        /* Surfaces */
        --surface-app: #eaebef;
        --surface-canvas: #f0f2f5;
        --surface-panel: #ffffff;
        --surface-subtle: #f8fafc; /* slate-50 */
        --surface-hover: #f1f5f9; /* slate-100 */
        --surface-active: #eff6ff; /* blue-50 */
        
        /* Borders */
        --border-subtle: #e2e8f0; /* slate-200 */
        --border-default: #cbd5e1; /* slate-300 */
        --border-active: #0284c7;
        
        /* Text */
        --text-primary: #0f172a; /* slate-900 */
        --text-secondary: #64748b; /* slate-500 */
        --text-tertiary: #94a3b8; /* slate-400 */
        
        /* Semantic */
        --color-success: #059669; /* emerald-600 */
        --color-danger: #e11d48; /* rose-600 */
        --color-warning: #d97706; /* amber-600 */
        --color-info: #0284c7; /* blue-600 */

        /* --- 2. DIMENSION TOKENS --- */
        --header-height: 56px;
        --toolbar-height: 48px;
        --sidebar-width: 256px;
        --inbox-list-width: 420px;
        --prop-panel-width: 288px;
        --node-width: 200px;
        --node-height: 80px;
        --radius-base: 2px;
        --radius-lg: 4px;
        
        /* --- 3. TYPOGRAPHY TOKENS --- */
        --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
        --font-mono: 'JetBrains Mono', monospace;
        --text-xs: 10px;
        --text-sm: 11px;
        --text-base: 13px;
        
        /* --- 4. Z-INDEX SCALE --- */
        --z-base: 0;
        --z-node: 10;
        --z-node-active: 20;
        --z-sticky: 40;
        --z-dropdown: 50;
        --z-modal: 100;
        --z-tooltip: 110;
        --z-toast: 200;
      }
      
      body {
        font-family: var(--font-sans);
        font-size: var(--text-base);
        background-color: var(--surface-app);
        color: var(--text-primary);
        overscroll-behavior-y: none;
        -webkit-font-smoothing: antialiased;
      }

      /* --- 5. UTILITY CLASS MAPPINGS (Extending Tailwind) --- */
      
      /* Surfaces */
      .bg-app { background-color: var(--surface-app); }
      .bg-canvas { background-color: var(--surface-canvas); }
      .bg-panel { background-color: var(--surface-panel); }
      .bg-subtle { background-color: var(--surface-subtle); }
      .bg-active { background-color: var(--surface-active); }
      .bg-brand-slate { background-color: var(--brand-slate); }
      
      /* Borders */
      .border-subtle { border-color: var(--border-subtle); }
      .border-default { border-color: var(--border-default); }
      .border-active { border-color: var(--border-active); }
      .rounded-base { border-radius: var(--radius-base); }
      
      /* Text */
      .text-primary { color: var(--text-primary); }
      .text-secondary { color: var(--text-secondary); }
      .text-tertiary { color: var(--text-tertiary); }
      
      /* Dimensions */
      .h-header { height: var(--header-height); }
      .w-sidebar { width: var(--sidebar-width); }
      .w-inbox-list { width: var(--inbox-list-width); }
      .h-content-area { height: calc(100vh - var(--header-height) - 48px); } /* Approximate content height */
      
      /* Z-Index */
      .z-sticky { z-index: var(--z-sticky); }
      .z-dropdown { z-index: var(--z-dropdown); }
      .z-modal { z-index: var(--z-modal); }
      .z-toast { z-index: var(--z-toast); }

      /* Components */
      .card-shadow {
        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      }
      
      .designer-grid {
        background-image: 
          linear-gradient(to right, #e2e8f0 1px, transparent 1px),
          linear-gradient(to bottom, #e2e8f0 1px, transparent 1px);
        background-size: 20px 20px;
      }

      .prop-input {
        @apply w-full px-3 py-2 bg-panel border border-default rounded-base text-base text-primary outline-none focus:ring-1 focus:ring-blue-600 focus:border-active transition-all shadow-sm;
      }
      
      .prop-label {
        @apply text-sm font-bold text-secondary mb-1 block uppercase tracking-wide;
      }

      .tab-capsule {
        @apply px-4 py-2 font-medium transition-all border-b-2 border-transparent hover:text-blue-700 whitespace-nowrap text-sm;
      }
      .tab-active {
        @apply text-blue-700 border-active bg-panel;
      }
      .tab-inactive {
        @apply text-secondary hover:bg-subtle;
      }

      .animate-fade-in { animation: fadeIn 0.3s ease-out; }
      .animate-slide-up { animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1); }

      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
      
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
    <script type="importmap">
    {
      "imports": {
        "recharts": "https://esm.sh/recharts@^3.6.0",
        "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
        "react": "https://esm.sh/react@^19.2.3",
        "react/": "https://esm.sh/react@^19.2.3/",
        "lucide-react": "https://esm.sh/lucide-react@^0.561.0",
        "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
        "immer": "https://esm.sh/immer@10.1.1"
      }
    }
    </script>
  </head>
  <body class="bg-app text-primary antialiased overflow-hidden selection:bg-blue-100 selection:text-blue-900">
    <div id="root"></div>
  </body>
</html>
